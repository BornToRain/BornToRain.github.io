{"title":"大白话点云开发(5)-滤波模块(一)","uid":"f937c5eee28ffc403ff02d90a868e21a","slug":"大白话点云开发(5)-滤波模块(一)","date":"2024-03-28T16:46:13.000Z","updated":"2024-03-28T17:36:32.802Z","comments":true,"path":"api/articles/大白话点云开发(5)-滤波模块(一).json","keywords":["Coder","Scalaer","Javaer"],"cover":"/images/ros2logo.png","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>先把工程建好.</p>\n<hr>\n<h2 id=\"项目工程结构\"><a href=\"#项目工程结构\" class=\"headerlink\" title=\"项目工程结构\"></a>项目工程结构</h2><div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki solarized-light\" style=\"background-color: #FDF6E3\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #268BD2\">cd</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">filter</span></span>\n<span class=\"line\"><span style=\"color: #268BD2\">mkdir</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">include</span></span>\n<span class=\"line\"><span style=\"color: #268BD2\">mkdir</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">src</span></span>\n<span class=\"line\"><span style=\"color: #268BD2\">touch</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">CMakeLists.txt</span></span>\n<span class=\"line\"><span style=\"color: #268BD2\">touch</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">include/pcr/filter/filter_params.hpp</span></span>\n<span class=\"line\"><span style=\"color: #268BD2\">touch</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">include/pcr/filter/filter.hpp</span></span>\n<span class=\"line\"><span style=\"color: #268BD2\">touch</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">src/pcr/filter/filter.cpp</span></span></code></pre></div><h3 id=\"1-CMakeLists-txt\"><a href=\"#1-CMakeLists-txt\" class=\"headerlink\" title=\"1. CMakeLists.txt\"></a>1. CMakeLists.txt</h3><div class=\"language-cmake\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cmake</span><pre class=\"shiki solarized-light\" style=\"background-color: #FDF6E3\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"># 支持c++17的最低版本</span></span>\n<span class=\"line\"><span style=\"color: #859900\">cmake_minimum_required</span><span style=\"color: #657B83\">(VERSION 3.10)</span></span>\n<span class=\"line\"><span style=\"color: #859900\">project</span><span style=\"color: #657B83\">(filter VERSION 0.1.0</span></span>\n<span class=\"line\"><span style=\"color: #657B83\">  LANGUAGES CXX</span></span>\n<span class=\"line\"><span style=\"color: #657B83\">)</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"># 检查编译器是否支持C++17标准</span></span>\n<span class=\"line\"><span style=\"color: #859900\">include</span><span style=\"color: #657B83\">(CheckCXXCompilerFlag)</span></span>\n<span class=\"line\"><span style=\"color: #657B83\">check_cxx_compiler_flag(</span><span style=\"color: #2AA198\">&quot;-std=c++17&quot;</span><span style=\"color: #657B83\"> COMPILER_SUPPORTS_CXX17)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #859900\">if</span><span style=\"color: #657B83\">(COMPILER_SUPPORTS_CXX17)</span></span>\n<span class=\"line\"><span style=\"color: #657B83\">  </span><span style=\"color: #93A1A1; font-style: italic\"># 如果编译器支持C++17标准，则设置为C++17</span></span>\n<span class=\"line\"><span style=\"color: #859900\">  set</span><span style=\"color: #657B83\">(CMAKE_CXX_STANDARD 17)</span></span>\n<span class=\"line\"><span style=\"color: #859900\">  set</span><span style=\"color: #657B83\">(CMAKE_CXX_STANDARD_REQUIRED </span><span style=\"color: #859900\">ON</span><span style=\"color: #657B83\">)</span></span>\n<span class=\"line\"><span style=\"color: #859900\">endif</span><span style=\"color: #657B83\">()</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"># 默认使用C99标准</span></span>\n<span class=\"line\"><span style=\"color: #859900\">set</span><span style=\"color: #657B83\">(CMAKE_C_STANDARD 99)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"># 如果是GNU编译器或者是Clang编译器，添加警告选项</span></span>\n<span class=\"line\"><span style=\"color: #859900\">if</span><span style=\"color: #657B83\">(CMAKE_COMPILER_IS_GNUCXX </span><span style=\"color: #859900\">OR</span><span style=\"color: #657B83\"> CMAKE_CXX_COMPILER_ID </span><span style=\"color: #859900\">MATCHES</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">&quot;Clang&quot;</span><span style=\"color: #657B83\">)</span></span>\n<span class=\"line\"><span style=\"color: #859900\">  add_compile_options</span><span style=\"color: #657B83\">(-Wall -Wextra -Wpedantic)</span></span>\n<span class=\"line\"><span style=\"color: #859900\">endif</span><span style=\"color: #657B83\">()</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"># 依赖库</span></span>\n<span class=\"line\"><span style=\"color: #859900\">find_package</span><span style=\"color: #657B83\">(PCL REQUIRED)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #859900\">include_directories</span><span style=\"color: #657B83\">(include</span></span>\n<span class=\"line\"><span style=\"color: #657B83\">  ../common/include</span></span>\n<span class=\"line\"><span style=\"color: #657B83\">  </span><span style=\"color: #586E75; font-weight: bold\">$&#123;PCL_INCLUDE_DIRS&#125;</span></span>\n<span class=\"line\"><span style=\"color: #657B83\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #859900\">add_library</span><span style=\"color: #657B83\">(filter src/pcr/filter/filter.cpp)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #859900\">link_libraries</span><span style=\"color: #657B83\">(filter </span><span style=\"color: #586E75; font-weight: bold\">$&#123;PCL_LIBRARIES&#125;</span><span style=\"color: #657B83\">)</span></span>\n<span class=\"line\"></span></code></pre></div><h3 id=\"2-filter-params-hpp-滤波器相关结构体参数\"><a href=\"#2-filter-params-hpp-滤波器相关结构体参数\" class=\"headerlink\" title=\"2. filter_params.hpp(滤波器相关结构体参数)\"></a>2. filter_params.hpp(滤波器相关结构体参数)</h3><div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki solarized-light\" style=\"background-color: #FDF6E3\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\">/**</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"> * </span><span style=\"color: #586E75; font-weight: bold\">@file</span><span style=\"color: #93A1A1; font-style: italic\"> filter_params.hpp</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"> * </span><span style=\"color: #586E75; font-weight: bold\">@author</span><span style=\"color: #93A1A1; font-style: italic\"> BornToRain</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"> * </span><span style=\"color: #586E75; font-weight: bold\">@brief</span><span style=\"color: #93A1A1; font-style: italic\"> 滤波器相关结构体,参数.</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"> * </span><span style=\"color: #586E75; font-weight: bold\">@version</span><span style=\"color: #93A1A1; font-style: italic\"> 0.1</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"> * </span><span style=\"color: #586E75; font-weight: bold\">@date</span><span style=\"color: #93A1A1; font-style: italic\"> 2024-03-29</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"> *</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"> * </span><span style=\"color: #586E75; font-weight: bold\">@copyright</span><span style=\"color: #93A1A1; font-style: italic\"> Copyright (c) 2024</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"> *</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"> */</span></span>\n<span class=\"line\"><span style=\"color: #859900\">#pragma</span><span style=\"color: #B58900\"> </span><span style=\"color: #93A1A1\">once</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #859900\">#include</span><span style=\"color: #B58900\"> </span><span style=\"color: #2AA198\">&quot;pcr/common/macros.hpp&quot;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #586E75; font-weight: bold\">namespace</span><span style=\"color: #657B83\"> </span><span style=\"color: #CB4B16\">pcr</span><span style=\"color: #657B83\"> &#123;</span></span>\n<span class=\"line\"><span style=\"color: #586E75; font-weight: bold\">namespace</span><span style=\"color: #657B83\"> </span><span style=\"color: #CB4B16\">filter</span><span style=\"color: #657B83\"> &#123;</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\">/**</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"> * </span><span style=\"color: #586E75; font-weight: bold\">@brief</span><span style=\"color: #93A1A1; font-style: italic\"> 滤波器参数,禁止了拷贝和复制操作,保证是单例的.</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"> *</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"> */</span></span>\n<span class=\"line\"><span style=\"color: #586E75; font-weight: bold\">struct</span><span style=\"color: #657B83\"> </span><span style=\"color: #CB4B16\">FilterParams</span><span style=\"color: #657B83\"> &#123;</span></span>\n<span class=\"line\"><span style=\"color: #657B83\">  </span><span style=\"color: #268BD2\">SINGLETON_STRUCT</span><span style=\"color: #657B83\">(</span><span style=\"color: #CB4B16\">FilterParams</span><span style=\"color: #657B83\">);</span></span>\n<span class=\"line\"><span style=\"color: #657B83\">&#125;;</span></span>\n<span class=\"line\"><span style=\"color: #657B83\">&#125;</span><span style=\"color: #93A1A1; font-style: italic\"> // namespace filter</span></span>\n<span class=\"line\"><span style=\"color: #657B83\">&#125;</span><span style=\"color: #93A1A1; font-style: italic\"> // namespace pcr</span></span></code></pre></div><h3 id=\"3-filter-hpp-滤波器\"><a href=\"#3-filter-hpp-滤波器\" class=\"headerlink\" title=\"3. filter.hpp(滤波器)\"></a>3. filter.hpp(滤波器)</h3><div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki solarized-light\" style=\"background-color: #FDF6E3\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\">/**</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"> * </span><span style=\"color: #586E75; font-weight: bold\">@file</span><span style=\"color: #93A1A1; font-style: italic\"> filter.hpp</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"> * </span><span style=\"color: #586E75; font-weight: bold\">@author</span><span style=\"color: #93A1A1; font-style: italic\"> BornToRain</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"> * </span><span style=\"color: #586E75; font-weight: bold\">@brief</span><span style=\"color: #93A1A1; font-style: italic\"> 滤波器算法</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"> * </span><span style=\"color: #586E75; font-weight: bold\">@version</span><span style=\"color: #93A1A1; font-style: italic\"> 0.1</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"> * </span><span style=\"color: #586E75; font-weight: bold\">@date</span><span style=\"color: #93A1A1; font-style: italic\"> 2024-03-29</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"> *</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"> * </span><span style=\"color: #586E75; font-weight: bold\">@copyright</span><span style=\"color: #93A1A1; font-style: italic\"> Copyright (c) 2024</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"> *</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"> */</span></span>\n<span class=\"line\"><span style=\"color: #859900\">#pragma</span><span style=\"color: #B58900\"> </span><span style=\"color: #93A1A1\">once</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #586E75; font-weight: bold\">namespace</span><span style=\"color: #657B83\"> </span><span style=\"color: #CB4B16\">pcr</span><span style=\"color: #657B83\"> &#123;</span></span>\n<span class=\"line\"><span style=\"color: #586E75; font-weight: bold\">namespace</span><span style=\"color: #657B83\"> </span><span style=\"color: #CB4B16\">filter</span><span style=\"color: #657B83\"> &#123;&#125;</span><span style=\"color: #93A1A1; font-style: italic\"> // namespace filter</span></span>\n<span class=\"line\"><span style=\"color: #657B83\">&#125;</span><span style=\"color: #93A1A1; font-style: italic\"> // namespace pcr</span></span></code></pre></div><h3 id=\"4-filter-cpp-滤波器\"><a href=\"#4-filter-cpp-滤波器\" class=\"headerlink\" title=\"4. filter.cpp(滤波器)\"></a>4. filter.cpp(滤波器)</h3><div class=\"language-cpp\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">cpp</span><pre class=\"shiki solarized-light\" style=\"background-color: #FDF6E3\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #859900\">#include</span><span style=\"color: #B58900\"> </span><span style=\"color: #2AA198\">&quot;pcr/filter/filter.hpp&quot;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #586E75; font-weight: bold\">namespace</span><span style=\"color: #657B83\"> </span><span style=\"color: #CB4B16\">pcr</span><span style=\"color: #657B83\"> &#123;</span></span>\n<span class=\"line\"><span style=\"color: #586E75; font-weight: bold\">namespace</span><span style=\"color: #657B83\"> </span><span style=\"color: #CB4B16\">filter</span><span style=\"color: #657B83\"> &#123;&#125;</span><span style=\"color: #93A1A1; font-style: italic\"> // namespace filter</span></span>\n<span class=\"line\"><span style=\"color: #657B83\">&#125;</span><span style=\"color: #93A1A1; font-style: italic\"> // namespace pcr</span></span></code></pre></div><hr>\n<h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2><p>先把模块雏形建好.</p>\n","text":"前言先把工程建好. 项目工程结构shellcd filter mkdir include mkdir src touch CMakeLists.txt touc...","permalink":"/post/大白话点云开发(5)-滤波模块(一)","photos":[],"count_time":{"symbolsCount":"1.9k","symbolsTime":"2 mins."},"categories":[{"name":"点云","slug":"点云","count":6,"path":"api/categories/点云.json"}],"tags":[{"name":"PCL","slug":"PCL","count":5,"path":"api/tags/PCL.json"},{"name":"点云","slug":"点云","count":4,"path":"api/tags/点云.json"},{"name":"C++","slug":"C","count":3,"path":"api/tags/C.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%89%8D%E8%A8%80\"><span class=\"toc-text\">前言</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%A1%B9%E7%9B%AE%E5%B7%A5%E7%A8%8B%E7%BB%93%E6%9E%84\"><span class=\"toc-text\">项目工程结构</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-CMakeLists-txt\"><span class=\"toc-text\">1. CMakeLists.txt</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-filter-params-hpp-%E6%BB%A4%E6%B3%A2%E5%99%A8%E7%9B%B8%E5%85%B3%E7%BB%93%E6%9E%84%E4%BD%93%E5%8F%82%E6%95%B0\"><span class=\"toc-text\">2. filter_params.hpp(滤波器相关结构体参数)</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-filter-hpp-%E6%BB%A4%E6%B3%A2%E5%99%A8\"><span class=\"toc-text\">3. filter.hpp(滤波器)</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-filter-cpp-%E6%BB%A4%E6%B3%A2%E5%99%A8\"><span class=\"toc-text\">4. filter.cpp(滤波器)</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%80%BB%E7%BB%93\"><span class=\"toc-text\">总结</span></a></li></ol>","author":{"name":"因雨而生","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"一直没脱离低级趣味的Coder","socials":{"github":"https://github.com/BornToRain","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"大白话点云开发(6)-滤波模块(二)-体素滤波","uid":"49f957c8c30227fbffa72516e70c6410","slug":"大白话点云开发(6)-滤波模块(二)-体素滤波","date":"2024-03-28T17:31:12.000Z","updated":"2024-03-28T18:59:16.641Z","comments":true,"path":"api/articles/大白话点云开发(6)-滤波模块(二)-体素滤波.json","keywords":["Coder","Scalaer","Javaer"],"cover":"/images/ros2logo.png","text":"前言体素滤波: 大白话就是降低分辨率从而减少点云大小. 代码算法参数体素滤波共有四个核心参数 1: leaf_size_x 2: leaf_size_y 3: ...","permalink":"/post/大白话点云开发(6)-滤波模块(二)-体素滤波","photos":[],"count_time":{"symbolsCount":"4.2k","symbolsTime":"4 mins."},"categories":[{"name":"点云","slug":"点云","count":6,"path":"api/categories/点云.json"}],"tags":[{"name":"PCL","slug":"PCL","count":5,"path":"api/tags/PCL.json"},{"name":"点云","slug":"点云","count":4,"path":"api/tags/点云.json"},{"name":"C++","slug":"C","count":3,"path":"api/tags/C.json"}],"author":{"name":"因雨而生","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"一直没脱离低级趣味的Coder","socials":{"github":"https://github.com/BornToRain","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"大白话点云开发(4)-通用模块(一)","uid":"7ac94eb8aa707d0bb8e27b4d05f9f7ee","slug":"大白话点云开发(4)-通用模块(一)","date":"2024-03-28T16:08:24.000Z","updated":"2024-03-28T17:52:48.933Z","comments":true,"path":"api/articles/大白话点云开发(4)-通用模块(一).json","keywords":["Coder","Scalaer","Javaer"],"cover":"/images/ros2logo.png","text":"前言先把工程建好,把一些类型别名放进来. 项目工程结构shellcd common mkdir include mkdir src touch CMakeLis...","permalink":"/post/大白话点云开发(4)-通用模块(一)","photos":[],"count_time":{"symbolsCount":"2.5k","symbolsTime":"2 mins."},"categories":[{"name":"点云","slug":"点云","count":6,"path":"api/categories/点云.json"}],"tags":[{"name":"PCL","slug":"PCL","count":5,"path":"api/tags/PCL.json"},{"name":"点云","slug":"点云","count":4,"path":"api/tags/点云.json"},{"name":"C++","slug":"C","count":3,"path":"api/tags/C.json"}],"author":{"name":"因雨而生","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"一直没脱离低级趣味的Coder","socials":{"github":"https://github.com/BornToRain","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}