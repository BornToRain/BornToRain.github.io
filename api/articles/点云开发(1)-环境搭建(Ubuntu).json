{"title":"点云开发(1)-环境搭建(Ubuntu)","uid":"1e6a3f5bd40a4242218066355e4892b4","slug":"点云开发(1)-环境搭建(Ubuntu)","date":"2024-03-28T05:40:23.000Z","updated":"2024-03-28T16:10:14.760Z","comments":true,"path":"api/articles/点云开发(1)-环境搭建(Ubuntu).json","keywords":["Coder","Scalaer","Javaer"],"cover":"/images/ros2logo.png","content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>记录下开发环境的搭建过程.</p>\n<h2 id=\"所需软件\"><a href=\"#所需软件\" class=\"headerlink\" title=\"所需软件\"></a>所需软件</h2><p>开发所需:</p>\n<ul>\n<li>Ubuntu 20.04(操作系统)</li>\n<li>Ros2 Foxy(Robot Operating System机器人操作系统)</li>\n<li>PCL 1.10(Point Cloud Library 点云库)</li>\n</ul>\n<p>Ros2对Ubuntu支持最好,所以首选开发环境为Ubuntu.<br>Ros2和Ubuntu存在版本对应关系.这里我的系统是 <em>Ubuntu20.04</em>,相对应的Ros2版本是 <em>Foxy</em> , <em>PCL</em> 版本为系统apt版本1.10.</p>\n<h2 id=\"Ros2-可选\"><a href=\"#Ros2-可选\" class=\"headerlink\" title=\"Ros2(可选)\"></a>Ros2(可选)</h2><p>后续可能换成 <em>Ros</em> 或其他.</p>\n<h3 id=\"1-添加ros软件源-中科大源\"><a href=\"#1-添加ros软件源-中科大源\" class=\"headerlink\" title=\"1. 添加ros软件源(中科大源)\"></a>1. 添加ros软件源(中科大源)</h3><div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki solarized-light\" style=\"background-color: #FDF6E3\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #268BD2\">sudo</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">sh</span><span style=\"color: #657B83\"> </span><span style=\"color: #CB4B16\">-c</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">&#39;echo &quot;deb http://mirrors.ustc.edu.cn/ros/ubuntu $(lsb_release -sc) main&quot; &gt; /etc/apt/sources.list.d/ros-latest.list&#39;</span></span></code></pre></div><h3 id=\"2-添加密钥\"><a href=\"#2-添加密钥\" class=\"headerlink\" title=\"2. 添加密钥\"></a>2. 添加密钥</h3><div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki solarized-light\" style=\"background-color: #FDF6E3\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #268BD2\">sudo</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">apt-key</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">adv</span><span style=\"color: #657B83\"> </span><span style=\"color: #CB4B16\">--keyserver</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">&#39;hkp://keyserver.ubuntu.com:80&#39;</span><span style=\"color: #657B83\"> </span><span style=\"color: #CB4B16\">--recv-key</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">C1CF6E31E6BADE8868B172B4F42ED6FBAB17C654</span><span style=\"color: #657B83\"> </span></span></code></pre></div><h3 id=\"3-更新并升级apt\"><a href=\"#3-更新并升级apt\" class=\"headerlink\" title=\"3. 更新并升级apt\"></a>3. 更新并升级apt</h3><p>如果源更新慢可以把apt源换成国内的,上面只把ros源替换了而已.</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki solarized-light\" style=\"background-color: #FDF6E3\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #268BD2\">sudo</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">apt</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">update</span><span style=\"color: #657B83\"> &amp;&amp; </span><span style=\"color: #268BD2\">sudo</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">apt</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">upgrade</span></span></code></pre></div><h3 id=\"4-安装ros2\"><a href=\"#4-安装ros2\" class=\"headerlink\" title=\"4. 安装ros2\"></a>4. 安装ros2</h3><h4 id=\"4-1-完整版全家桶-包含ros2本体rviz2以及各种demo和教程\"><a href=\"#4-1-完整版全家桶-包含ros2本体rviz2以及各种demo和教程\" class=\"headerlink\" title=\"4.1 完整版全家桶(包含ros2本体rviz2以及各种demo和教程)\"></a>4.1 完整版全家桶(包含ros2本体rviz2以及各种demo和教程)</h4><div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki solarized-light\" style=\"background-color: #FDF6E3\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #268BD2\">sudo</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">apt</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">install</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">ros-foxy-desktop</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">python3-argcomplete</span></span></code></pre></div><h4 id=\"4-2-基础开发版-无图形化工具和相关demo教程\"><a href=\"#4-2-基础开发版-无图形化工具和相关demo教程\" class=\"headerlink\" title=\"4.2 基础开发版(无图形化工具和相关demo教程)\"></a>4.2 基础开发版(无图形化工具和相关demo教程)</h4><div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki solarized-light\" style=\"background-color: #FDF6E3\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #268BD2\">sudo</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">apt</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">install</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">ros-foxy-ros-base</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">python3-argcomplete</span></span></code></pre></div><h4 id=\"4-3-部分非必须库-可选\"><a href=\"#4-3-部分非必须库-可选\" class=\"headerlink\" title=\"4.3 部分非必须库(可选)\"></a>4.3 部分非必须库(可选)</h4><div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki solarized-light\" style=\"background-color: #FDF6E3\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"># ros点云与pcl点云转换库</span></span>\n<span class=\"line\"><span style=\"color: #268BD2\">sudo</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">apt</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">install</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">ros-foxy-pcl-conversions</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"># ros图像与opencv图像转换库</span></span>\n<span class=\"line\"><span style=\"color: #268BD2\">sudo</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">apt</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">install</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">ros-foxy-cv-bridge</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"># ros与前端交互库,websocket</span></span>\n<span class=\"line\"><span style=\"color: #268BD2\">sudo</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">apt</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">install</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">ros-foxy-rosbridge-suite</span></span></code></pre></div><h3 id=\"5-测试-可选\"><a href=\"#5-测试-可选\" class=\"headerlink\" title=\"5. 测试(可选)\"></a>5. 测试(可选)</h3><p>直接运行官方自带的demo即可.</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki solarized-light\" style=\"background-color: #FDF6E3\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #268BD2\">ros2</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">run</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">demo_nodes_cpp</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">talker</span></span></code></pre></div><h3 id=\"6-设置环境变量-可选\"><a href=\"#6-设置环境变量-可选\" class=\"headerlink\" title=\"6. 设置环境变量(可选)\"></a>6. 设置环境变量(可选)</h3><p>安装完成后将ros脚本添加到环境中,这样不用每次使用前都手动source</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki solarized-light\" style=\"background-color: #FDF6E3\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #268BD2\">echo</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">&quot;source /opt/ros/foxy/setup.bash&quot;</span><span style=\"color: #657B83\"> </span><span style=\"color: #859900\">&gt;&gt;</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">~/.bashrc</span></span>\n<span class=\"line\"><span style=\"color: #268BD2\">source</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">~/.bashrc</span></span></code></pre></div><hr>\n<h2 id=\"PCL\"><a href=\"#PCL\" class=\"headerlink\" title=\"PCL\"></a>PCL</h2><h3 id=\"1-apt安装\"><a href=\"#1-apt安装\" class=\"headerlink\" title=\"1. apt安装\"></a>1. apt安装</h3><div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki solarized-light\" style=\"background-color: #FDF6E3\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #268BD2\">sudo</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">apt</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">install</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">libpcl-dev</span></span></code></pre></div><h3 id=\"2-源码安装\"><a href=\"#2-源码安装\" class=\"headerlink\" title=\"2. 源码安装\"></a>2. 源码安装</h3><p>从<a href=\"https://github.com/PointCloudLibrary/pcl/tags\">PCL Github</a>下载对应版本源码(这里以1.10.0为例).</p>\n<div class=\"language-shell\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">shell</span><pre class=\"shiki solarized-light\" style=\"background-color: #FDF6E3\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"># 解压源码</span></span>\n<span class=\"line\"><span style=\"color: #268BD2\">tar</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">xvf</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">pcl-pcl-1.10.0.tar.gz</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"># 在pcl下创建build目录并进入</span></span>\n<span class=\"line\"><span style=\"color: #268BD2\">cd</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">pcl-pcl-1.10.0</span><span style=\"color: #657B83\"> &amp;&amp; </span><span style=\"color: #268BD2\">mkdir</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">build</span><span style=\"color: #657B83\"> &amp;&amp; </span><span style=\"color: #268BD2\">cd</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">build</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"># 设置安装目录和编译版本</span></span>\n<span class=\"line\"><span style=\"color: #268BD2\">cmake</span><span style=\"color: #657B83\"> </span><span style=\"color: #CB4B16\">-DCMAKE_BUILD_TYPE=Release</span><span style=\"color: #657B83\"> </span><span style=\"color: #CB4B16\">-DCMAKE_INSTALL_PREFIX=/usr/local/pcl-1.10</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">..</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"># 多核编译,这里会读取服务器可用核心数.</span></span>\n<span class=\"line\"><span style=\"color: #268BD2\">make</span><span style=\"color: #657B83\"> </span><span style=\"color: #CB4B16\">-j</span><span style=\"color: #2AA198\">$(</span><span style=\"color: #268BD2\">nproc</span><span style=\"color: #2AA198\">)</span></span>\n<span class=\"line\"><span style=\"color: #93A1A1; font-style: italic\"># 安装到前文指定的目录下</span></span>\n<span class=\"line\"><span style=\"color: #268BD2\">make</span><span style=\"color: #657B83\"> </span><span style=\"color: #2AA198\">install</span></span></code></pre></div><hr>\n<h2 id=\"总结\"><a href=\"#总结\" class=\"headerlink\" title=\"总结\"></a>总结</h2><p>Ubuntu下安装Ros2和PCL整体都比较简单,唯一需要注意的国外源可能速度慢的问题,其他没啥好说的.</p>\n","text":"前言记录下开发环境的搭建过程. 所需软件开发所需: Ubuntu 20.04(操作系统) Ros2 Foxy(Robot Operating System机器人...","permalink":"/post/点云开发(1)-环境搭建(Ubuntu)","photos":[],"count_time":{"symbolsCount":"1.7k","symbolsTime":"2 mins."},"categories":[{"name":"点云","slug":"点云","count":5,"path":"api/categories/点云.json"}],"tags":[{"name":"Ros2","slug":"Ros2","count":2,"path":"api/tags/Ros2.json"},{"name":"PCL","slug":"PCL","count":4,"path":"api/tags/PCL.json"},{"name":"Ubuntu","slug":"Ubuntu","count":1,"path":"api/tags/Ubuntu.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%89%8D%E8%A8%80\"><span class=\"toc-text\">前言</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%89%80%E9%9C%80%E8%BD%AF%E4%BB%B6\"><span class=\"toc-text\">所需软件</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Ros2-%E5%8F%AF%E9%80%89\"><span class=\"toc-text\">Ros2(可选)</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E6%B7%BB%E5%8A%A0ros%E8%BD%AF%E4%BB%B6%E6%BA%90-%E4%B8%AD%E7%A7%91%E5%A4%A7%E6%BA%90\"><span class=\"toc-text\">1. 添加ros软件源(中科大源)</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E6%B7%BB%E5%8A%A0%E5%AF%86%E9%92%A5\"><span class=\"toc-text\">2. 添加密钥</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-%E6%9B%B4%E6%96%B0%E5%B9%B6%E5%8D%87%E7%BA%A7apt\"><span class=\"toc-text\">3. 更新并升级apt</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-%E5%AE%89%E8%A3%85ros2\"><span class=\"toc-text\">4. 安装ros2</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#4-1-%E5%AE%8C%E6%95%B4%E7%89%88%E5%85%A8%E5%AE%B6%E6%A1%B6-%E5%8C%85%E5%90%ABros2%E6%9C%AC%E4%BD%93rviz2%E4%BB%A5%E5%8F%8A%E5%90%84%E7%A7%8Ddemo%E5%92%8C%E6%95%99%E7%A8%8B\"><span class=\"toc-text\">4.1 完整版全家桶(包含ros2本体rviz2以及各种demo和教程)</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#4-2-%E5%9F%BA%E7%A1%80%E5%BC%80%E5%8F%91%E7%89%88-%E6%97%A0%E5%9B%BE%E5%BD%A2%E5%8C%96%E5%B7%A5%E5%85%B7%E5%92%8C%E7%9B%B8%E5%85%B3demo%E6%95%99%E7%A8%8B\"><span class=\"toc-text\">4.2 基础开发版(无图形化工具和相关demo教程)</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#4-3-%E9%83%A8%E5%88%86%E9%9D%9E%E5%BF%85%E9%A1%BB%E5%BA%93-%E5%8F%AF%E9%80%89\"><span class=\"toc-text\">4.3 部分非必须库(可选)</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#5-%E6%B5%8B%E8%AF%95-%E5%8F%AF%E9%80%89\"><span class=\"toc-text\">5. 测试(可选)</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#6-%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F-%E5%8F%AF%E9%80%89\"><span class=\"toc-text\">6. 设置环境变量(可选)</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#PCL\"><span class=\"toc-text\">PCL</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-apt%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">1. apt安装</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85\"><span class=\"toc-text\">2. 源码安装</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%80%BB%E7%BB%93\"><span class=\"toc-text\">总结</span></a></li></ol>","author":{"name":"因雨而生","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"一直没脱离低级趣味的Coder","socials":{"github":"https://github.com/BornToRain","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"点云开发(2)-环境搭建(Mac)","uid":"946c6cbc49437cf761ffb0e5b3844f68","slug":"点云开发(2)-环境搭建(Mac)","date":"2024-03-28T08:04:10.000Z","updated":"2024-03-28T16:10:34.507Z","comments":true,"path":"api/articles/点云开发(2)-环境搭建(Mac).json","keywords":["Coder","Scalaer","Javaer"],"cover":"/images/ros2logo.png","text":"前言这篇文章主要还是因为截止到24年3月为止,Ros2(其实Ros1也一样)在arm64架构的Macbook安装都过于麻烦复杂了. 所需软件开发所需: MacO...","permalink":"/post/点云开发(2)-环境搭建(Mac)","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[{"name":"点云","slug":"点云","count":5,"path":"api/categories/点云.json"}],"tags":[{"name":"Mac","slug":"Mac","count":1,"path":"api/tags/Mac.json"},{"name":"Ros2","slug":"Ros2","count":2,"path":"api/tags/Ros2.json"},{"name":"PCL","slug":"PCL","count":4,"path":"api/tags/PCL.json"}],"author":{"name":"因雨而生","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"一直没脱离低级趣味的Coder","socials":{"github":"https://github.com/BornToRain","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"从零开始撸框架(8)-与Vert.x集成 Web篇(二)","uid":"31ebad76ece9cbfbb4b4be8543fa818d","slug":"从零开始撸框架(8)-与Vert.x集成 Web篇(二)","date":"2021-05-12T06:33:24.000Z","updated":"2021-06-28T09:51:53.342Z","comments":true,"path":"api/articles/从零开始撸框架(8)-与Vert.x集成 Web篇(二).json","keywords":["Coder","Scalaer","Javaer"],"cover":"/images/vertxlogo.png","text":"上一篇讲完了全局配置,这一篇我们来讲每个路由的集成. Vert.x原始使用方式样例来自于Vert.x官网 Vert.x配置api接口javapublic cla...","permalink":"/post/从零开始撸框架(8)-与Vert.x集成 Web篇(二)","photos":[],"count_time":{"symbolsCount":"24k","symbolsTime":"22 mins."},"categories":[{"name":"从零开始","slug":"从零开始","count":8,"path":"api/categories/从零开始.json"}],"tags":[{"name":"Vert.x","slug":"Vert-x","count":8,"path":"api/tags/Vert-x.json"},{"name":"Actor","slug":"Actor","count":8,"path":"api/tags/Actor.json"},{"name":"设计模式","slug":"设计模式","count":8,"path":"api/tags/设计模式.json"},{"name":"Java","slug":"Java","count":9,"path":"api/tags/Java.json"},{"name":"代理模式","slug":"代理模式","count":4,"path":"api/tags/代理模式.json"}],"author":{"name":"因雨而生","slug":"blog-author","avatar":"/images/avatar.jpg","link":"/","description":"一直没脱离低级趣味的Coder","socials":{"github":"https://github.com/BornToRain","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}